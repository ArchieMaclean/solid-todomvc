!function(t){var n={};function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)o.d(e,i,function(n){return t[n]}.bind(null,i));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="/",o(o.s=0)}([function(t,n,o){"use strict";o.r(n);var e=function(t,n){var o=new c(t,n);return function(){return o.current()}};Object.defineProperty(e,"default",{value:e});var i=e;e.root=function(t){var n=C,o=0===t.length?a:new c(null,null),e=void 0,i=0===t.length?null:function(){null!==b?p.disposes.add(o):B(o)};return C=o,null===b?e=function(t,n,o){try{return null===n?t():t(n)}finally{C=o}}(t,i,n):(e=null===i?t():t(i),C=n),e},e.on=function(t,n,o,i){var s;return Array.isArray(t)&&(s=t,t=function(){for(var t=0;t<s.length;t++)s[t]()}),i=!!i,e(l,o);function l(o){var e=w;return t(),i?i=!1:(w=null,o=n(o),w=e),o}},e.effect=function(t,n){new c(t,n)},e.data=function(t){var n=new f(t);return function(t){return 0===arguments.length?n.current():n.next(t)}},e.value=function(t,n){var o=e.data(t),i=-1;return function(e){if(0===arguments.length)return o();if(!(n?n(t,e):t===e)){var s=p.time;if(i===s)throw new Error("conflicting values: "+e+" is not the same as "+t);i=s,t=e,o(e)}return e}},e.freeze=function(t){var n=void 0;if(null!==b)n=t();else{(b=p).changes.reset();try{n=t(),S()}finally{b=null}}return n},e.sample=function(t){var n,o=w;return null!==o?(w=null,n=t(),w=o):n=t(),n},e.cleanup=function(t){null!==C?null===C.cleanups?C.cleanups=[t]:C.cleanups.push(t):console.warn("cleanups created without a root or parent will never be run")},e.makeDataNode=function(t){return new f(t)},e.makeComputationNode=function(t,n){return new c(t,n)},e.isFrozen=function(){return null!==b},e.isListening=function(){return null!==w};var s=function(){return function(){this.time=0,this.changes=new u,this.updates=new u,this.disposes=new u}}(),l={time:function(){return p.time}},f=function(){function t(t){this.value=t,this.pending=h,this.log=null}return t.prototype.current=function(){return null!==w&&function(t,n){null===t.log&&(t.log=new d);x(t.log,n)}(this,w),this.value},t.prototype.next=function(t){if(null!==b)if(this.pending!==h){if(t!==this.pending)throw new Error("conflicting changes: "+t+" !== "+this.pending)}else this.pending=t,p.changes.add(this);else null!==this.log?(this.pending=t,p.changes.add(this),S()):this.value=t;return t},t.prototype.clock=function(){return l},t}(),c=function(){function t(t,n){if(this.state=g,this.source1=null,this.source1slot=0,this.sources=null,this.sourceslots=null,this.log=null,this.owned=null,this.cleanups=null,this.fn=t,this.value=n,this.age=p.time,null!==t){var o=C,e=w;null===o&&console.warn("computations created without a root or parent will never be disposed"),C=w=this,null===b?function(t){b=p,p.changes.reset(),p.updates.reset();try{t.value=t.fn(t.value),(p.changes.count>0||p.updates.count>0)&&(p.time++,T(p))}finally{b=C=w=null}}(this):this.value=this.fn(this.value),o&&o!==a&&(null===o.owned?o.owned=[this]:o.owned.push(this)),C=o,w=e}}return t.prototype.current=function(){if(null!==w){if(this.age===p.time){if(this.state===y)throw new Error("circular dependency");M(this)}!function(t,n){null===t.log&&(t.log=new d);x(t.log,n)}(this,w)}return this.value},t.prototype.clock=function(){return l},t}(),d=function(){return function(){this.node1=null,this.node1slot=0,this.nodes=null,this.nodeslots=null}}(),u=function(){function t(){this.items=[],this.count=0}return t.prototype.reset=function(){this.count=0},t.prototype.add=function(t){this.items[this.count++]=t},t.prototype.run=function(t){for(var n=this.items,o=0;o<this.count;o++)t(n[o]),n[o]=null;this.count=0},t}(),h={},g=0,r=1,y=2,p=new s,b=null,w=null,C=null,a=new c(null,null);function x(t,n){var o,e=null===n.source1?-1:null===n.sources?0:n.sources.length;null===t.node1?(t.node1=n,t.node1slot=e,o=-1):null===t.nodes?(t.nodes=[n],t.nodeslots=[e],o=0):(o=t.nodes.length,t.nodes.push(n),t.nodeslots.push(e)),null===n.source1?(n.source1=t,n.source1slot=o):null===n.sources?(n.sources=[t],n.sourceslots=[o]):(n.sources.push(t),n.sourceslots.push(o))}function S(){var t=C;p.updates.reset(),p.time++;try{T(p)}finally{b=w=null,C=t}}function T(t){var n=b,o=0;for(b=t,t.disposes.reset();0!==t.changes.count||0!==t.updates.count||0!==t.disposes.count;)if(o>0&&t.time++,t.changes.run(L),t.updates.run(M),t.disposes.run(B),o++>1e5)throw new Error("Runaway clock detected");b=n}function L(t){t.value=t.pending,t.pending=h,t.log&&E(t.log)}function E(t){var n=t.node1,o=t.nodes;if(null!==n&&j(n),null!==o)for(var e=0,i=o.length;e<i;e++)j(o[e])}function j(t){var n=p.time;t.age<n&&(t.age=n,t.state=r,p.updates.add(t),null!==t.owned&&function t(n){for(var o=0;o<n.length;o++){var e=n[o];e.age=p.time,e.state=g,null!==e.owned&&t(e.owned)}}(t.owned),null!==t.log&&E(t.log))}function M(t){if(t.state===r){var n=C,o=w;C=w=t,t.state=y,O(t,!1),t.value=t.fn(t.value),t.state=g,C=n,w=o}}function O(t,n){var o,e,i=t.source1,s=t.sources,l=t.sourceslots,f=t.cleanups,c=t.owned;if(null!==f){for(o=0;o<f.length;o++)f[o](n);t.cleanups=null}if(null!==c){for(o=0;o<c.length;o++)B(c[o]);t.owned=null}if(null!==i&&(N(i,t.source1slot),t.source1=null),null!==s)for(o=0,e=s.length;o<e;o++)N(s.pop(),l.pop())}function N(t,n){var o,e,i=t.nodes,s=t.nodeslots;-1===n?t.node1=null:(o=i.pop(),e=s.pop(),n!==i.length&&(i[n]=o,s[n]=e,-1===e?o.source1slot=n:o.sourceslots[e]=n))}function B(t){t.fn=null,t.log=null,O(t,!0)}const _=Symbol("solid-node"),z=Symbol("solid-proxy"),F={get(t,n){if("_state"===n)return t;const o=t[n],e=A(o);if(i.isListening()&&"function"!=typeof o){let s,l;e&&(s=D(o))&&(l=s._self||(s._self=i.makeDataNode())).current(),(l=(s=D(t))[n]||(s[n]=i.makeDataNode())).current()}return e?H(o):o},set:()=>!0,deleteProperty:()=>!0};function H(t){return t[z]||(t[z]=new Proxy(t,F))}function A(t){return null!==t&&"object"==typeof t&&!(t instanceof Element)}function I(t){let n,o,e;if(n=null!=t&&t._state)return n;if(!A(t))return t;if(Array.isArray(t)){Object.isFrozen(t)&&(t=t.slice(0));for(let n=0,i=t.length;n<i;n++)(o=I(e=t[n]))!==e&&(t[n]=o)}else{Object.isFrozen(t)&&(t=Object.assign({},t));let n=Object.keys(t);for(let i=0,s=n.length;i<s;i++)(o=I(e=t[n[i]]))!==e&&(t[n[i]]=o)}return t}function D(t){let n=t[_];return n||(t[_]=n={}),n}function J(t,n,o){if(o=I(o),t[n]===o)return;const e=Array.isArray(t)||!(n in t);void 0===o?delete t[n]:t[n]=o;let i,s=D(t);(i=s[n])&&i.next(),e&&(i=s._self)&&i.next()}function W(t,n){const o=Object.keys(n)||[];for(let e=0;e<o.length;e+=1){const i=o[e];J(t,i,n[i])}}function $(t,n,o=[]){if(1===n.length){let e=n[0];if("function"==typeof e&&void 0===(e=e(H(t),o)))return;return W(t,e)}const e=n.shift(),i=typeof e,s=Array.isArray(t);if(Array.isArray(e))for(let i=0;i<e.length;i++)$(t,[e[i]].concat(n),o.concat([e[i]]));else if(s&&"function"===i)for(let i=0;i<t.length;i++)e(t[i],i)&&$(t[i],n.slice(0),o.concat([i]));else if(s&&"object"===i){const{from:i=0,to:s=t.length-1,by:l=1}=e;for(let e=i;e<=s;e+=l)$(t[e],n.slice(0),o.concat([e]))}else if(s&&"*"===e)for(let e=0;e<t.length;e++)$(t,[e].concat(n),o.concat([e]));else{if(1===n.length){let i=n[0];if("function"==typeof i){const n=t[e];i=i(A(n)?H(n):n,o.concat([e]))}return A(t[e])&&A(i)&&!Array.isArray(i)?W(t[e],i):J(t,e,i)}$(t[e],n,o.concat([e]))}}function m(t,n,o){if(!n)return i.makeComputationNode(t);i.on(n,t,void 0,o)}const{root:q,cleanup:Q,sample:U,freeze:X}=i,Y="__rGroup",Z="__rid",G="nextSibling",P="previousSibling";let R=0;function K(t,n){const o=t[Y];if(t=t[n],o){for(;t&&t[Y]!==o;)t=t[n];t=t[n]}return t}function V(t,n,o){let e;for(;n!==o;)e=n.nextSibling,t.removeChild(n),n=e}function v(t,n,o,e){let i;for(;n!==o;)i=n.nextSibling,t.insertBefore(n,e),n=i}function k(t,n){const o=n[Z];t.get(o)(),t.delete(o)}function tt(t,n,o,e,i,s,l){const{wrap:f,cleanup:c,root:d,sample:u}=i;let h=new Map;function g(n,e,i){return d(s=>(h.set(++R,s),function(t,n,o){if(Array.isArray(t)){if(!t.length)return;let e=t[0];e[Z]=R,1!==t.length&&(e[Y]=R,t[t.length-1][Y]=R,t[t.length-1][Z]=R);for(let e=0;e<t.length;e++)o?n.insertBefore(t[e],o):n.appendChild(t[e]);return e}let e;return 11===t.nodeType?(e=t.firstChild)&&(e[Z]=R,e!==t.lastChild&&(e[Y]=R,t.lastChild[Y]=R,t.lastChild[Z]=R)):t[Z]=R,o?n.insertBefore(t,o):n.appendChild(t),e||t}(o(n,e),t,i)))}function r(){e&&e(s?s.nextSibling:t.firstChild,l)}c(function(){for(let t of h.keys())h.get(t)();h.clear()}),f((o=[])=>{const e=n();return u(()=>{t=l&&l.parentNode||t;const n=e.length;if(0===n){if(void 0!==s||void 0!==l){let n=null!=s?s.nextSibling:t.firstChild;V(t,n,void 0===l?null:l)}else t.textContent="";for(let t of h.keys())h.get(t)();return h.clear(),r(),[]}if(0===o.length){let t=new Array(n);for(let o=0;o<n;o++)g(t[o]=e[o],o,l);return r(),t}let i,f,c=0,d=0,u=!0,y=o.length-1,p=n-1,b=s?s.nextSibling:t.firstChild,w=b,C=l?l.previousSibling:t.lastChild,a=l;t:for(;u;){let n;for(u=!1,i=o[c],f=e[d];i===f;){if(c++,d++,w=b=K(b,G),y<c||p<d)break t;i=o[c],f=e[d]}for(i=o[y],f=e[p];i===f;){if(y--,p--,a=C,C=K(C,P),y<c||p<d)break t;i=o[y],f=e[p]}for(i=o[y],f=e[d];i===f;){u=!0;let s=(n=K(C,P)).nextSibling;if(w!==s&&(v(t,s,C.nextSibling,w),C=n),d++,--y<c||p<d)break t;i=o[y],f=e[d]}for(i=o[c],f=e[p];i===f;){if(u=!0,n=K(b,G),b!==a){let o=n.previousSibling;v(t,b,n,a),a=o,b=n}if(p--,y<++c||p<d)break t;i=o[c],f=e[p]}}if(p<d){if(c<=y){let n,o,e;for(;c<=y;){if(o=(e=C)[Y])for(e=e.previousSibling;e&&e[Y]!==o;)e=e.previousSibling;n=e.previousSibling,V(t,e,C.nextSibling),k(h,C),C=n,y--}}return r(),e.slice(0)}if(y<c){if(d<=p)for(;d<=p;)g(e[d],d,a),d++;return r(),e.slice(0)}const x=new Array(p+1-d);for(let t=d;t<=p;t++)x[t]=-1;const S=new Map;for(let t=d;t<=p;t++)S.set(e[t],t);let T=0,L=[];for(let t=c;t<=y;t++)S.has(o[t])?(x[S.get(o[t])]=t,T++):L.push(t);if(0===T){const n=b!==t.firstChild||C!==t.lastChild;let o,i=b;for(a=C.nextSibling;i!==a;)o=K(i,G),k(h,i),n&&V(t,i,o),i=o,c++;!n&&(t.textContent="");for(let t=d;t<=p;t++)g(e[t],t,a);return r(),e.slice(0)}const E=function(t,n){for(var o=[],e=[],i=-1,s=new Array(t.length),l=n,f=t.length;l<f;l++){var c=t[l];if(!(c<0)){var d=nt(o,c);-1!==d&&(s[l]=e[d]),d===i?(o[++i]=c,e[i]=l):c<o[d+1]&&(o[d+1]=c,e[d+1]=l)}}for(l=e[i];i>=0;l=s[l],i--)o[i]=l;return o}(x,d),j=[];let M,O=b,N=E.length-1;for(let t=c;t<=y;t++)j[t]=O,O=K(O,G);for(let n=0;n<L.length;n++){let o=j[L[n]];V(t,o,K(o,G)),k(h,o)}for(let n=p;n>=d;n--)E[N]===n?(a=j[x[E[N]]],N--):(-1===x[n]?M=g(e[n],n,a):(M=j[x[n]],v(t,M,K(M,G),a)),a=M);return r(),e.slice(0)})})}function nt(t,n){var o=-1,e=t.length;if(e>0&&t[e-1]<=n)return e-1;for(;e-o>1;){var i=Math.floor((o+e)/2);t[i]>n?e=i:o=i}return o}const ot="property";var et={href:{type:"attribute"},style:{type:ot,alias:"style.cssText"},for:{type:ot,alias:"htmlFor"},class:{type:ot,alias:"className"},spellCheck:{type:ot,alias:"spellcheck"},allowFullScreen:{type:ot,alias:"allowFullscreen"},autoCapitalize:{type:ot,alias:"autocapitalize"},autoFocus:{type:ot,alias:"autofocus"},autoPlay:{type:ot,alias:"autoplay"}};function it(t,n,o,e){if(!o)return t.textContent="";if(Array.isArray(n))for(let o=0;o<n.length;o++)t.removeChild(n[o]);else if(null!=n&&""!=n)if(void 0!==e){let n,i=o.previousSibling;for(;i!==e;)n=i.previousSibling,t.removeChild(i),i=n}else t.removeChild(o.previousSibling);return""}function st(t){return(n,o)=>n.classList.toggle(t,o)}const lt=function(t){const{wrap:n,cleanup:o,root:e}=t;function i(t,o,e,s){if(o===e)return e;t=s&&s.parentNode||t;const l=typeof o;if("string"===l||"number"===l)if("number"===l&&(o=o.toString()),s){if(""===o)it(t,e,s);else if(""!==e&&"string"==typeof e)s.previousSibling.data=o;else{const n=document.createTextNode(o);""!==e&&null!=e?t.replaceChild(n,s.previousSibling):t.insertBefore(n,s)}e=o}else e=""!==e&&"string"==typeof e?t.firstChild.data=o:t.textContent=o;else if(null==o||"boolean"===l)e=it(t,e,s);else if("function"===l)n(function(){e=i(t,o(),e,s)});else if(o instanceof Node)Array.isArray(e)?0===e.length?t.insertBefore(o,s):1===e.length?t.replaceChild(o,e[0]):(it(t,e,s),t.appendChild(o)):null==e||""===e?t.insertBefore(o,s):t.replaceChild(o,s&&s.previousSibling||t.firstChild),e=o;else{if(!Array.isArray(o))throw new Error("content must be Node, stringable, or array of same");{let n=function t(n,o){for(var e=0,i=o.length;e<i;e++){var s=o[e];s instanceof Node?11===s.nodeType?t(n,s.childNodes):n.push(s):null==s||!0===s||!1===s||(Array.isArray(s)?t(n,s):"string"==typeof s?n.push(s):n.push(s.toString()))}return n}([],o);if(it(t,e,s),0!==n.length)for(let o=0,e=n.length;o<e;o++){let e=n[o];e instanceof Node||(e=n[o]=document.createTextNode(e)),t.insertBefore(e,s)}e=n}}return e}return Object.assign({insert(t,o,e,s){if("function"!=typeof o)return i(t,o,e,s);n((n=e)=>i(t,o(),n,s))},addEventListener(t,n,o){t.addEventListener(n,t=>{if(o.length<2)return o(t);const n=function t(n){let o,e=n.model,i=n.action;return void 0===e&&n.parentNode&&(o=t(n.parentNode)),[void 0!==e?e:o&&o[0],i||o&&o[1]]}(t.target);o(t,n[0],n[1])})},spread(t,o){n(function(){const n=o();let e;for(const o in n){const i=n[o];if("style"===o)Object.assign(t.style,i);else if("classList"===o)for(const n in i)t.classList.toggle(n,i[n]);else(e=et[o])?"attribute"===e.type?t.setAttribute(o,i):t[e.alias]=i:t[o]=i}})},flow(s,l,f,c,d,u){let h;if(u&&(h=u.previousSibling),"each"===l)tt(s,f,c,d,t,h,u);else if("when"===l){let t,l;o(function(){l&&l()}),n(n=>{const o=f();return o===n?n:(l&&l(),s=u&&u.parentNode||s,null==o||!1===o?(it(s,t,u,h),t=null,o):(e(n=>{l=n,t=i(s,c(o),t,u),d&&d(t,u)}),o))})}}},t)}({wrap:i.makeComputationNode,root:i.root,cleanup:i.cleanup,sample:i.sample});!function(t){const n={};function o(){let o=[].slice.call(arguments),e=null;function i(o){const i=typeof o;if(null==o)   ;else if("string"===i)e?e.appendChild(document.createTextNode(o)):function(t){const n=t.split(/([\.#]?[^\s#.]+)/);/^\.|#/.test(n[1])&&(e=document.createElement("div"));for(let t=0;t<n.length;t++){const o=n[t],i=o.substring(1,o.length);o&&(e?"."===o[0]?e.classList.add(i):"#"===o[0]&&e.setAttribute("id",i):e=document.createElement(o))}}(o);else if("number"===i||"boolean"===i||o instanceof Date||o instanceof RegExp)e.appendChild(document.createTextNode(o.toString()));else if(Array.isArray(o)){e||(e=document.createDocumentFragment());for(let n=0;n<o.length;n++){const i=o[n];i.flow?i(e):t.insert(e,i)}}else if(o instanceof Node)e.appendChild(o);else if("object"===i)for(const i in o)"function"==typeof o[i]?/^on\w+/.test(i)?t.addEventListener(e,i.substring(2),o[i]):"ref"===i?o[i](e):"$"===i[0]?n[i.substring(1)](e,o[i]):function(n,o){t.wrap(()=>s(n,o[n]()))}(i,o):s(i,o[i]);else"function"==typeof o&&(o.flow?o(e):t.insert(e,o))}for(;o.length;)i(o.shift());return e;function s(t,n){if("style"===t)if("string"==typeof n)e.style.cssText=n;else for(const t in n)e.style.setProperty(t,n[t]);else if("classList"===t)for(const t in n)e.classList.toggle(t,n[t]);else if("attrs"===t)for(const t in n)e.setAttribute(t,n[t]);else e[t]=n}}o.registerBinding=((t,o)=>{n[t]=o}),o.when=((n,o,e)=>{const i=i=>{const s=i.appendChild(document.createTextNode(""));t.flow(i,"when",n,o,e,s)};return i.flow=!0,i}),o.each=((n,o,e)=>{const i=i=>{const s=i.appendChild(document.createTextNode(""));t.flow(i,"each",n,o,e,s)};return i.flow=!0,i})}(lt);const ft=document.createElement("template");ft.innerHTML="<button class='clear-completed'>Clear completed</button>";const ct=document.createElement("template");ct.innerHTML="<footer class='footer'><span class='todo-count'><strong></strong> left\n    </span><ul class='filters'><li><a href='#/'>All</a></li><li><a href='#/active'>Active</a></li><li><a href='#/completed'>Completed</a></li></ul></footer>";const dt=document.createElement("template");dt.innerHTML="<input class='edit'/>";const ut=document.createElement("template");ut.innerHTML="<li class='todo'><div class='view'><input class='toggle' type='checkbox'/><label></label><button class='destroy'></button></div></li>";const ht=document.createElement("template");ht.innerHTML="<section class='main'><input id='toggle-all' class='toggle-all' type='checkbox'/><label for='toggle-all'></label><ul class='todo-list'></ul></section>";const gt=document.createElement("template");gt.innerHTML="<header class='header'><h1>todos</h1><input class='new-todo' placeholder='What needs to be done?'/></header>";const rt=document.createElement("template");rt.innerHTML="";const yt=document.createElement("template");yt.innerHTML="<section class='todoapp'></section>";const pt="todos-solid";function bt(t){const n=localStorage.getItem(pt),[o,e]=function(t={}){return[H(t=I(t)),function(){const n=arguments;i.freeze(()=>{if(Array.isArray(n[0]))for(let o=0;o<n.length;o+=1)$(t,n[o]);else $(t,Array.prototype.slice.call(n))})}]}(n?JSON.parse(n):t);return m(()=>localStorage.setItem(pt,JSON.stringify(o))),[o,e]}const wt=({addTodo:t})=>(function(){const n=gt.content.firstChild.cloneNode(!0),o=n.firstChild.nextSibling;return lt.addEventListener(o,"keyup",({target:n,keyCode:o})=>{let e;13===o&&(e=n.value.trim())&&(t({title:e}),n.value="")}),n})(),Ct=t=>{const{state:n,toggleAll:o}=t;return function(){const e=ht.content.firstChild.cloneNode(!0),s=e.firstChild,l=s.nextSibling.nextSibling;return lt.addEventListener(s,"change",({target:{checked:t}})=>o(t)),lt.wrap(()=>s.checked=!n.remainingCount),lt.flow(l,"each",()=>(t=>"active"===n.showMode?t.filter(t=>!t.completed):"completed"===n.showMode?t.filter(t=>t.completed):t)(n.todos),n=>at(Object.assign(t,{todo:n})),function(t,n){let o,e;return"string"==typeof n&&(n=st(n)),i.makeComputationNode(i=>{const s=t();i&&n(i,!1);let l=o;for(;l&&l!==e;){if(l.model===s)return n(l,!0),l;l=l.nextSibling}}),(t,n)=>(o=t,e=n)}(()=>n.edittingTodoId,"editing")),e}()},at=({state:t,todo:n,editTodo:o,removeTodo:e,setCurrent:i})=>{const s=({target:{value:e}})=>{let s;t.edittingTodoId===n.id&&(s=e.trim())&&(o({id:n.id,title:s}),i())};return function(){const l=ut.content.firstChild.cloneNode(!0),f=l.firstChild,c=f.firstChild,d=c.nextSibling,u=d.nextSibling,h=l.insertBefore(document.createTextNode(""),f.nextSibling);return l.model=n.id,lt.wrap(()=>{let t={completed:n.completed},o=Object.keys(t);for(let n=0;n<o.length;n++)l.classList.toggle(o[n],t[o[n]])}),lt.addEventListener(c,"change",({target:{checked:t}})=>o({id:n.id,completed:t})),lt.wrap(()=>c.checked=n.completed),lt.addEventListener(d,"dblclick",()=>i(n.id)),lt.insert(d,()=>n.title),lt.addEventListener(u,"click",()=>e(n.id)),lt.flow(l,"when",()=>n.id===t.edittingTodoId,()=>(function(){const t=dt.content.firstChild.cloneNode(!0);return lt.addEventListener(t,"keyup",t=>{13===t.keyCode?s(t):27===t.keyCode&&i()}),lt.addEventListener(t,"blur",s),t.value=n.title,t})(),null,h),l}()},xt=({state:t,clearCompleted:n})=>(function(){const o=ct.content.firstChild.cloneNode(!0),e=o.firstChild,i=e.firstChild,s=e.insertBefore(document.createTextNode(""),i.nextSibling),l=e.nextSibling,f=l.firstChild,c=f.firstChild,d=f.nextSibling,u=d.firstChild,h=d.nextSibling.firstChild,g=o.insertBefore(document.createTextNode(""),l.nextSibling);return lt.insert(i,()=>t.remainingCount),lt.insert(e,()=>1===t.remainingCount?" item":" items",null,s),lt.wrap(()=>{let n={selected:"all"===t.showMode},o=Object.keys(n);for(let t=0;t<o.length;t++)c.classList.toggle(o[t],n[o[t]])}),lt.wrap(()=>{let n={selected:"active"===t.showMode},o=Object.keys(n);for(let t=0;t<o.length;t++)u.classList.toggle(o[t],n[o[t]])}),lt.wrap(()=>{let n={selected:"completed"===t.showMode},o=Object.keys(n);for(let t=0;t<o.length;t++)h.classList.toggle(o[t],n[o[t]])}),lt.flow(o,"when",()=>t.completedCount>0,()=>(function(){const t=ft.content.firstChild.cloneNode(!0);return lt.addEventListener(t,"click",n),t})(),null,g),o})();q(()=>document.body.appendChild((()=>{const[t,n]=bt({counter:0,edittingTodoId:null,todos:[]}),o=({title:o})=>n(["todos",n=>[{title:o,id:t.counter,completed:!1},...n]],["counter",t=>t+1]),e=t=>n("todos",n=>n.filter(n=>n.id!==t)),i=o=>n("todos",t.todos.findIndex(t=>t.id===o.id),o),s=()=>n("todos",t=>t.filter(t=>!t.completed)),l=t=>n("todos",n=>n.completed!==t,{completed:t}),f=t=>n("edittingTodoId",t),c=()=>n("showMode",location.hash.slice(2)||"all");return m(()=>{const o=t.todos.filter(t=>t.completed).length;n({completedCount:o,remainingCount:t.todos.length-o})}),window.addEventListener("hashchange",c),Q(()=>window.removeEventListener("hashchange",c)),function(){const n=yt.content.firstChild.cloneNode(!0),c=n.insertBefore(document.createTextNode(""),n.firstChild),d=n.insertBefore(document.createTextNode(""),c.nextSibling);return lt.insert(n,wt({addTodo:o}),null,c),lt.flow(n,"when",()=>t.todos.length>0,()=>(function(){const n=rt.content.cloneNode(!0),o=n.insertBefore(document.createTextNode(""),n.firstChild),c=n.insertBefore(document.createTextNode(""),o.nextSibling);return lt.insert(n,Ct({state:t,toggleAll:l,editTodo:i,removeTodo:e,setCurrent:f}),null,o),lt.insert(n,xt({state:t,clearCompleted:s}),null,c),n})(),null,d),n}()})()))}]);