!function(t){var o={};function i(s){if(o[s])return o[s].exports;var n=o[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,o,s){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,o){if(1&o&&(t=i(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)i.d(s,n,function(o){return t[o]}.bind(null,n));return s},i.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p="/",i(i.s=0)}([function(t,o,i){"use strict";i.r(o);var s=function(t,o){var i=new e(t,o);return function(){return i.current()}};Object.defineProperty(s,"default",{value:s});var n=s;s.root=function(t){var o=x,i=0===t.length?S:new e(null,null),s=void 0,n=0===t.length?null:function(){null!==w?b.disposes.add(i):N(i)};return x=i,null===w?s=function(t,o,i){try{return null===o?t():t(o)}finally{x=i}}(t,n,o):(s=null===n?t():t(n),x=o),s},s.on=function(t,o,i,n){var l;return Array.isArray(t)&&(l=t,t=function(){for(var t=0;t<l.length;t++)l[t]()}),n=!!n,s(f,i);function f(i){var s=C;return t(),n?n=!1:(C=null,i=o(i),C=s),i}},s.effect=function(t,o){new e(t,o)},s.data=function(t){var o=new c(t);return function(t){return 0===arguments.length?o.current():o.next(t)}},s.value=function(t,o){var i=s.data(t),n=-1;return function(s){if(0===arguments.length)return i();if(!(o?o(t,s):t===s)){var l=b.time;if(n===l)throw new Error("conflicting values: "+s+" is not the same as "+t);n=l,t=s,i(s)}return s}},s.freeze=function(t){var o=void 0;if(null!==w)o=t();else{(w=b).changes.reset();try{o=t(),r()}finally{w=null}}return o},s.sample=function(t){var o,i=C;return null!==i?(C=null,o=t(),C=i):o=t(),o},s.cleanup=function(t){null!==x?null===x.cleanups?x.cleanups=[t]:x.cleanups.push(t):console.warn("cleanups created without a root or parent will never be run")},s.makeDataNode=function(t){return new c(t)},s.makeComputationNode=function(t,o){return new e(t,o)},s.isFrozen=function(){return null!==w},s.isListening=function(){return null!==C};var l=function(){return function(){this.time=0,this.changes=new u,this.updates=new u,this.disposes=new u}}(),f={time:function(){return b.time}},c=function(){function t(t){this.value=t,this.pending=h,this.log=null}return t.prototype.current=function(){return null!==C&&function(t,o){null===t.log&&(t.log=new d);T(t.log,o)}(this,C),this.value},t.prototype.next=function(t){if(null!==w)if(this.pending!==h){if(t!==this.pending)throw new Error("conflicting changes: "+t+" !== "+this.pending)}else this.pending=t,b.changes.add(this);else null!==this.log?(this.pending=t,b.changes.add(this),r()):this.value=t;return t},t.prototype.clock=function(){return f},t}(),e=function(){function t(t,o){if(this.state=g,this.source1=null,this.source1slot=0,this.sources=null,this.sourceslots=null,this.log=null,this.owned=null,this.cleanups=null,this.fn=t,this.value=o,this.age=b.time,null!==t){var i=x,s=C;null===i&&console.warn("computations created without a root or parent will never be disposed"),x=C=this,null===w?function(t){w=b,b.changes.reset(),b.updates.reset();try{t.value=t.fn(t.value),(b.changes.count>0||b.updates.count>0)&&(b.time++,_(b))}finally{w=x=C=null}}(this):this.value=this.fn(this.value),i&&i!==S&&(null===i.owned?i.owned=[this]:i.owned.push(this)),x=i,C=s}}return t.prototype.current=function(){if(null!==C){if(this.age===b.time){if(this.state===p)throw new Error("circular dependency");M(this)}!function(t,o){null===t.log&&(t.log=new d);T(t.log,o)}(this,C)}return this.value},t.prototype.clock=function(){return f},t}(),d=function(){return function(){this.node1=null,this.node1slot=0,this.nodes=null,this.nodeslots=null}}(),u=function(){function t(){this.items=[],this.count=0}return t.prototype.reset=function(){this.count=0},t.prototype.add=function(t){this.items[this.count++]=t},t.prototype.run=function(t){for(var o=this.items,i=0;i<this.count;i++)t(o[i]),o[i]=null;this.count=0},t}(),h={},g=0,y=1,p=2,b=new l,w=null,C=null,x=null,S=new e(null,null);function T(t,o){var i,s=null===o.source1?-1:null===o.sources?0:o.sources.length;null===t.node1?(t.node1=o,t.node1slot=s,i=-1):null===t.nodes?(t.nodes=[o],t.nodeslots=[s],i=0):(i=t.nodes.length,t.nodes.push(o),t.nodeslots.push(s)),null===o.source1?(o.source1=t,o.source1slot=i):null===o.sources?(o.sources=[t],o.sourceslots=[i]):(o.sources.push(t),o.sourceslots.push(i))}function r(){var t=x;b.updates.reset(),b.time++;try{_(b)}finally{w=C=null,x=t}}function _(t){var o=w,i=0;for(w=t,t.disposes.reset();0!==t.changes.count||0!==t.updates.count||0!==t.disposes.count;)if(i>0&&t.time++,t.changes.run(L),t.updates.run(M),t.disposes.run(N),i++>1e5)throw new Error("Runaway clock detected");w=o}function L(t){t.value=t.pending,t.pending=h,t.log&&j(t.log)}function j(t){var o=t.node1,i=t.nodes;if(null!==o&&E(o),null!==i)for(var s=0,n=i.length;s<n;s++)E(i[s])}function E(t){var o=b.time;t.age<o&&(t.age=o,t.state=y,b.updates.add(t),null!==t.owned&&function t(o){for(var i=0;i<o.length;i++){var s=o[i];s.age=b.time,s.state=g,null!==s.owned&&t(s.owned)}}(t.owned),null!==t.log&&j(t.log))}function M(t){if(t.state===y){var o=x,i=C;x=C=t,t.state=p,O(t,!1),t.value=t.fn(t.value),t.state=g,x=o,C=i}}function O(t,o){var i,s,n=t.source1,l=t.sources,f=t.sourceslots,c=t.cleanups,e=t.owned;if(null!==c){for(i=0;i<c.length;i++)c[i](o);t.cleanups=null}if(null!==e){for(i=0;i<e.length;i++)N(e[i]);t.owned=null}if(null!==n&&(B(n,t.source1slot),t.source1=null),null!==l)for(i=0,s=l.length;i<s;i++)B(l.pop(),f.pop())}function B(t,o){var i,s,n=t.nodes,l=t.nodeslots;-1===o?t.node1=null:(i=n.pop(),s=l.pop(),o!==n.length&&(n[o]=i,l[o]=s,-1===s?i.source1slot=o:i.sourceslots[s]=o))}function N(t){t.fn=null,t.log=null,O(t,!0)}const z=Symbol("solid-node"),F=Symbol("solid-proxy"),H={get(t,o){if("_state"===o)return t;const i=t[o],s=I(i);if(n.isListening()&&"function"!=typeof i){let l,f;s&&(l=$(i))&&(f=l._self||(l._self=n.makeDataNode())).current(),(f=(l=$(t))[o]||(l[o]=n.makeDataNode())).current()}return s?A(i):i},set:()=>!0,deleteProperty:()=>!0};function A(t){return t[F]||(t[F]=new Proxy(t,H))}function I(t){return null!==t&&"object"==typeof t&&!(t instanceof Element)}function D(t){let o,i,s;if(o=null!=t&&t._state)return o;if(!I(t))return t;if(Array.isArray(t)){Object.isFrozen(t)&&(t=t.slice(0));for(let o=0,n=t.length;o<n;o++)(i=D(s=t[o]))!==s&&(t[o]=i)}else{Object.isFrozen(t)&&(t=Object.assign({},t));let o=Object.keys(t);for(let n=0,l=o.length;n<l;n++)(i=D(s=t[o[n]]))!==s&&(t[o[n]]=i)}return t}function $(t){let o=t[z];return o||(t[z]=o={}),o}function J(t,o,i){if(i=D(i),t[o]===i)return;const s=Array.isArray(t)||!(o in t);void 0===i?delete t[o]:t[o]=i;let n,l=$(t);(n=l[o])&&n.next(),s&&(n=l._self)&&n.next()}function P(t,o){const i=Object.keys(o)||[];for(let s=0;s<i.length;s+=1){const n=i[s];J(t,n,o[n])}}function W(t,o,i=[]){if(1===o.length){let s=o[0];if("function"==typeof s&&void 0===(s=s(A(t),i)))return;return P(t,s)}const s=o.shift(),n=typeof s,l=Array.isArray(t);if(Array.isArray(s))for(let n=0;n<s.length;n++)W(t,[s[n]].concat(o),i.concat([s[n]]));else if(l&&"function"===n)for(let n=0;n<t.length;n++)s(t[n],n)&&W(t[n],o.slice(0),i.concat([n]));else if(l&&"object"===n){const{from:n=0,to:l=t.length-1,by:f=1}=s;for(let s=n;s<=l;s+=f)W(t[s],o.slice(0),i.concat([s]))}else if(l&&"*"===s)for(let s=0;s<t.length;s++)W(t,[s].concat(o),i.concat([s]));else{if(1===o.length){let n=o[0];if("function"==typeof n){const o=t[s];n=n(I(o)?A(o):o,i.concat([s]))}return I(t[s])&&I(n)&&!Array.isArray(n)?P(t[s],n):J(t,s,n)}W(t[s],o,i.concat([s]))}}function q(t,o,i){if(!o)return n.makeComputationNode(t);n.on(o,t,void 0,i)}const{root:Q,cleanup:U,sample:X,freeze:Y}=n,Z="__rGroup",G="__rid",R="nextSibling",K="previousSibling";let V=0;function v(t,o){const i=t[Z];if(t=t[o],i){for(;t&&t[Z]!==i;)t=t[o];t=t[o]}return t}function a(t,o,i){let s;for(;o!==i;)s=o.nextSibling,t.removeChild(o),o=s}function m(t,o,i,s){let n;for(;o!==i;)n=o.nextSibling,t.insertBefore(o,s),o=n}function k(t,o){const i=o[G];t.get(i)(),t.delete(i)}function tt(t,o,i,s,n,l,f){const{wrap:c,cleanup:e,root:d,sample:u}=n;let h=new Map;function g(o,s,n){return d(l=>(h.set(++V,l),function(t,o,i){if(Array.isArray(t)){if(!t.length)return;let s=t[0];s[G]=V,1!==t.length&&(s[Z]=V,t[t.length-1][Z]=V,t[t.length-1][G]=V);for(let s=0;s<t.length;s++)i?o.insertBefore(t[s],i):o.appendChild(t[s]);return s}let s;return 11===t.nodeType?(s=t.firstChild)&&(s[G]=V,s!==t.lastChild&&(s[Z]=V,t.lastChild[Z]=V,t.lastChild[G]=V)):t[G]=V,i?o.insertBefore(t,i):o.appendChild(t),s||t}(i(o,s),t,n)))}function y(){s&&s(l?l.nextSibling:t.firstChild,f)}e(function(){for(let t of h.keys())h.get(t)();h.clear()}),c((i=[])=>{const s=o();return u(()=>{t=f&&f.parentNode||t;const o=s.length;if(0===o){if(void 0!==l||void 0!==f){let o=null!=l?l.nextSibling:t.firstChild;a(t,o,void 0===f?null:f)}else t.textContent="";for(let t of h.keys())h.get(t)();return h.clear(),y(),[]}if(0===i.length){let t=new Array(o);for(let i=0;i<o;i++)g(t[i]=s[i],i,f);return y(),t}let n,c,e=0,d=0,u=!0,p=i.length-1,b=o-1,w=l?l.nextSibling:t.firstChild,C=w,x=f?f.previousSibling:t.lastChild,S=f;t:for(;u;){let o;for(u=!1,n=i[e],c=s[d];n===c;){if(e++,d++,C=w=v(w,R),p<e||b<d)break t;n=i[e],c=s[d]}for(n=i[p],c=s[b];n===c;){if(p--,b--,S=x,x=v(x,K),p<e||b<d)break t;n=i[p],c=s[b]}for(n=i[p],c=s[d];n===c;){u=!0;let l=(o=v(x,K)).nextSibling;if(C!==l&&(m(t,l,x.nextSibling,C),x=o),d++,--p<e||b<d)break t;n=i[p],c=s[d]}for(n=i[e],c=s[b];n===c;){if(u=!0,o=v(w,R),w!==S){let i=o.previousSibling;m(t,w,o,S),S=i,w=o}if(b--,p<++e||b<d)break t;n=i[e],c=s[b]}}if(b<d){if(e<=p){let o,i,s;for(;e<=p;){if(i=(s=x)[Z])for(s=s.previousSibling;s&&s[Z]!==i;)s=s.previousSibling;o=s.previousSibling,a(t,s,x.nextSibling),k(h,x),x=o,p--}}return y(),s.slice(0)}if(p<e){if(d<=b)for(;d<=b;)g(s[d],d,S),d++;return y(),s.slice(0)}const T=new Array(b+1-d);for(let t=d;t<=b;t++)T[t]=-1;const r=new Map;for(let t=d;t<=b;t++)r.set(s[t],t);let _=0,L=[];for(let t=e;t<=p;t++)r.has(i[t])?(T[r.get(i[t])]=t,_++):L.push(t);if(0===_){const o=w!==t.firstChild||x!==t.lastChild;let i,n=w;for(S=x.nextSibling;n!==S;)i=v(n,R),k(h,n),o&&a(t,n,i),n=i,e++;!o&&(t.textContent="");for(let t=d;t<=b;t++)g(s[t],t,S);return y(),s.slice(0)}const j=function(t,o){for(var i=[],s=[],n=-1,l=new Array(t.length),f=o,c=t.length;f<c;f++){var e=t[f];if(!(e<0)){var d=ot(i,e);-1!==d&&(l[f]=s[d]),d===n?(i[++n]=e,s[n]=f):e<i[d+1]&&(i[d+1]=e,s[d+1]=f)}}for(f=s[n];n>=0;f=l[f],n--)i[n]=f;return i}(T,d),E=[];let M,O=w,B=j.length-1;for(let t=e;t<=p;t++)E[t]=O,O=v(O,R);for(let o=0;o<L.length;o++){let i=E[L[o]];a(t,i,v(i,R)),k(h,i)}for(let o=b;o>=d;o--)j[B]===o?(S=E[T[j[B]]],B--):(-1===T[o]?M=g(s[o],o,S):(M=E[T[o]],m(t,M,v(M,R),S)),S=M);return y(),s.slice(0)})})}function ot(t,o){var i=-1,s=t.length;if(s>0&&t[s-1]<=o)return s-1;for(;s-i>1;){var n=Math.floor((i+s)/2);t[n]>o?s=n:i=n}return i}const it="property";var st={href:{type:"attribute"},style:{type:it,alias:"style.cssText"},for:{type:it,alias:"htmlFor"},class:{type:it,alias:"className"},spellCheck:{type:it,alias:"spellcheck"},allowFullScreen:{type:it,alias:"allowFullscreen"},autoCapitalize:{type:it,alias:"autocapitalize"},autoFocus:{type:it,alias:"autofocus"},autoPlay:{type:it,alias:"autoplay"}};function nt(t,o,i,s){if(!i)return t.textContent="";if(Array.isArray(o))for(let i=0;i<o.length;i++)t.removeChild(o[i]);else if(null!=o&&""!=o)if(void 0!==s){let o,n=i.previousSibling;for(;n!==s;)o=n.previousSibling,t.removeChild(n),n=o}else t.removeChild(i.previousSibling);return""}const lt=new Set;function ft(t){const o=t.composedPath&&t.composedPath()[0]||t.target,[i,s]=function t(o,i){let s,n,l=o.model,f=o[i];return void 0===l&&(n=o.host||o.parentNode)&&(s=t(n,i)),[void 0!==l?l:s&&s[0],f||s&&s[1]]}(o,`__${t.type}`);return s&&s(t,i)}function ct(t){return(o,i)=>o.classList.toggle(t,i)}const et=function(t){const{wrap:o,cleanup:i,root:s}=t;function n(t,i,s,l){if(i===s)return s;t=l&&l.parentNode||t;const f=typeof i;if("string"===f||"number"===f)if("number"===f&&(i=i.toString()),l){if(""===i)nt(t,s,l);else if(""!==s&&"string"==typeof s)l.previousSibling.data=i;else{const o=document.createTextNode(i);""!==s&&null!=s?t.replaceChild(o,l.previousSibling):t.insertBefore(o,l)}s=i}else s=""!==s&&"string"==typeof s?t.firstChild.data=i:t.textContent=i;else if(null==i||"boolean"===f)s=nt(t,s,l);else if("function"===f)o(function(){s=n(t,i(),s,l)});else if(i instanceof Node)Array.isArray(s)?0===s.length?t.insertBefore(i,l):1===s.length?t.replaceChild(i,s[0]):(nt(t,s,l),t.appendChild(i)):null==s||""===s?t.insertBefore(i,l):t.replaceChild(i,l&&l.previousSibling||t.firstChild),s=i;else{if(!Array.isArray(i))throw new Error("content must be Node, stringable, or array of same");{let o=function t(o,i){for(var s=0,n=i.length;s<n;s++){var l=i[s];l instanceof Node?11===l.nodeType?t(o,l.childNodes):o.push(l):null==l||!0===l||!1===l||(Array.isArray(l)?t(o,l):"string"==typeof l?o.push(l):o.push(l.toString()))}return o}([],i);if(nt(t,s,l),0!==o.length)for(let i=0,s=o.length;i<s;i++){let s=o[i];s instanceof Node||(s=o[i]=document.createTextNode(s)),t.insertBefore(s,l)}s=o}}return s}return Object.assign({insert(t,i,s,l){if("function"!=typeof i)return n(t,i,s,l);o((o=s)=>n(t,i(),o,l))},delegateEvents(t){for(let o=0,i=t.length;o<i;o++){const i=t[o];lt.has(i)||(lt.add(i),document.addEventListener(i,ft,!0))}},spread(t,i){o(function(){const o=i();let s;for(const i in o){const n=o[i];if("style"===i)Object.assign(t.style,n);else if("classList"===i)for(const o in n)t.classList.toggle(o,n[o]);else(s=st[i])?"attribute"===s.type?t.setAttribute(i,n):t[s.alias]=n:t[i]=n}})},flow(l,f,c,e,d,u){let h;if(u&&(h=u.previousSibling),"each"===f)tt(l,c,e,d,t,h,u);else if("when"===f){let t,f;i(function(){f&&f()}),o(o=>{const i=c();return i===o?o:(f&&f(),l=u&&u.parentNode||l,null==i||!1===i?(nt(l,t,u,h),t=null,i):(s(o=>{f=o,t=n(l,e(i),t,u),d&&d(t,u)}),i))})}}},t)}({wrap:n.makeComputationNode,root:n.root,cleanup:n.cleanup,sample:n.sample});!function(t){const o={};function i(){let i=[].slice.call(arguments),s=null;function n(i){const n=typeof i;if(null==i)   ;else if("string"===n)s?s.appendChild(document.createTextNode(i)):function(t){const o=t.split(/([\.#]?[^\s#.]+)/);/^\.|#/.test(o[1])&&(s=document.createElement("div"));for(let t=0;t<o.length;t++){const i=o[t],n=i.substring(1,i.length);i&&(s?"."===i[0]?s.classList.add(n):"#"===i[0]&&s.setAttribute("id",n):s=document.createElement(i))}}(i);else if("number"===n||"boolean"===n||i instanceof Date||i instanceof RegExp)s.appendChild(document.createTextNode(i.toString()));else if(Array.isArray(i)){s||(s=document.createDocumentFragment());for(let o=0;o<i.length;o++){const n=i[o];n.flow?n(s):t.insert(s,n)}}else if(i instanceof Node)s.appendChild(i);else if("object"===n)for(const n in i)if("function"==typeof i[n])if(/^on\w+/.test(n))if(n.toLowerCase()!==n){const o=n.slice(2).toLowerCase();t.delegateEvents([o]),s[`__${o}`]=i[n]}else s[n]=i[n];else"ref"===n?i[n](s):"$"===n[0]?o[n.slice(1)](s,i[n]):function(o,i){t.wrap(()=>l(o,i[o]()))}(n,i);else l(n,i[n]);else"function"==typeof i&&(i.flow?i(s):t.insert(s,i))}for(;i.length;)n(i.shift());return s;function l(t,o){if("style"===t)if("string"==typeof o)s.style.cssText=o;else for(const t in o)s.style.setProperty(t,o[t]);else if("classList"===t)for(const t in o)s.classList.toggle(t,o[t]);else if("attrs"===t)for(const t in o)s.setAttribute(t,o[t]);else s[t]=o}}i.registerBinding=((t,i)=>{o[t]=i}),i.when=((o,i,s)=>{const n=n=>{const l=n.appendChild(document.createTextNode(""));t.flow(n,"when",o,i,s,l)};return n.flow=!0,n}),i.each=((o,i,s)=>{const n=n=>{const l=n.appendChild(document.createTextNode(""));t.flow(n,"each",o,i,s,l)};return n.flow=!0,n})}(et);const dt=document.createElement("template");dt.innerHTML="<button class='clear-completed'>Clear completed</button>";const ut=document.createElement("template");ut.innerHTML="<footer class='footer'><span class='todo-count'><strong></strong> left\n    </span><ul class='filters'><li><a href='#/'>All</a></li><li><a href='#/active'>Active</a></li><li><a href='#/completed'>Completed</a></li></ul></footer>";const ht=document.createElement("template");ht.innerHTML="<input class='edit'/>";const gt=document.createElement("template");gt.innerHTML="<li class='todo'><div class='view'><input class='toggle' type='checkbox'/><label></label><button class='destroy'></button></div></li>";const yt=document.createElement("template");yt.innerHTML="<section class='main'><input id='toggle-all' class='toggle-all' type='checkbox'/><label for='toggle-all'></label><ul class='todo-list'></ul></section>";const pt=document.createElement("template");pt.innerHTML="<header class='header'><h1>todos</h1><input class='new-todo' placeholder='What needs to be done?'/></header>";const bt=document.createElement("template");bt.innerHTML="";const wt=document.createElement("template");wt.innerHTML="<section class='todoapp'></section>";const Ct="todos-solid";function xt(t){const o=localStorage.getItem(Ct),[i,s]=function(t={}){return[A(t=D(t)),function(){const o=arguments;n.freeze(()=>{if(Array.isArray(o[0]))for(let i=0;i<o.length;i+=1)W(t,o[i]);else W(t,Array.prototype.slice.call(o))})}]}(o?JSON.parse(o):t);return q(()=>localStorage.setItem(Ct,JSON.stringify(i))),[i,s]}const St=({addTodo:t})=>(function(){const o=pt.content.firstChild.cloneNode(!0);return o.firstChild.nextSibling.onkeyup=(({target:o,keyCode:i})=>{let s;13===i&&(s=o.value.trim())&&(t({title:s}),o.value="")}),o})(),Tt=({state:t,editTodo:o,setCurrent:i,removeTodo:s,toggleAll:l})=>{const f=({target:{value:s}},n)=>{let l;t.edittingTodoId===n&&(l=s.trim())&&(o({id:n,title:l}),i())},c=({target:{checked:t}},i)=>o({id:i,completed:t}),e=(t,o)=>i(o),d=(t,o)=>s(o),u=(t,o)=>{13===t.keyCode?f(t,o):27===t.keyCode&&i()};return function(){const o=yt.content.firstChild.cloneNode(!0),i=o.firstChild,s=i.nextSibling.nextSibling;return et.wrap(()=>i.checked=!t.remainingCount),et.wrap(()=>i.onchange=(({target:{checked:t}})=>l(t))),et.flow(s,"each",()=>(o=>"active"===t.showMode?o.filter(t=>!t.completed):"completed"===t.showMode?o.filter(t=>t.completed):o)(t.todos),o=>rt({state:t,todo:o,check:c,edit:e,remove:d,doneEditting:u,save:f}),function(t,o){let i,s;return"string"==typeof o&&(o=ct(o)),n.makeComputationNode(n=>{const l=t();n&&o(n,!1);let f=i;for(;f&&f!==s;){if(f.model===l)return o(f,!0),f;f=f.nextSibling}}),(t,o)=>(i=t,s=o)}(()=>t.edittingTodoId,"editing")),o}()},rt=({state:t,todo:o,check:i,edit:s,remove:n,save:l,doneEditting:f})=>(function(){const c=gt.content.firstChild.cloneNode(!0),e=c.firstChild,d=e.firstChild,u=d.nextSibling,h=u.nextSibling,g=c.insertBefore(document.createTextNode(""),e.nextSibling);return c.model=o.id,et.wrap(()=>{let t={completed:o.completed},i=Object.keys(t);for(let o=0;o<i.length;o++)c.classList.toggle(i[o],t[i[o]])}),d.__change=i,et.wrap(()=>d.checked=o.completed),u.__dblclick=s,et.insert(u,()=>o.title),h.__click=n,et.flow(c,"when",()=>o.id===t.edittingTodoId,()=>(function(){const t=ht.content.firstChild.cloneNode(!0);var i;return t.__keyup=f,t.__focusout=l,i=t,Promise.resolve().then(()=>i.focus()),t.value=o.title,t})(),null,g),c})(),_t=({state:t,clearCompleted:o})=>(function(){const i=ut.content.firstChild.cloneNode(!0),s=i.firstChild,n=s.firstChild,l=s.insertBefore(document.createTextNode(""),n.nextSibling),f=s.nextSibling,c=f.firstChild,e=c.firstChild,d=c.nextSibling,u=d.firstChild,h=d.nextSibling.firstChild,g=i.insertBefore(document.createTextNode(""),f.nextSibling);return et.insert(n,()=>t.remainingCount),et.insert(s,()=>1===t.remainingCount?" item":" items",null,l),et.wrap(()=>{let o={selected:"all"===t.showMode},i=Object.keys(o);for(let t=0;t<i.length;t++)e.classList.toggle(i[t],o[i[t]])}),et.wrap(()=>{let o={selected:"active"===t.showMode},i=Object.keys(o);for(let t=0;t<i.length;t++)u.classList.toggle(i[t],o[i[t]])}),et.wrap(()=>{let o={selected:"completed"===t.showMode},i=Object.keys(o);for(let t=0;t<i.length;t++)h.classList.toggle(i[t],o[i[t]])}),et.flow(i,"when",()=>t.completedCount>0,()=>(function(){const t=dt.content.firstChild.cloneNode(!0);return t.onclick=o,t})(),null,g),i})();Q(()=>document.body.appendChild((()=>{const[t,o]=xt({counter:0,edittingTodoId:null,todos:[]}),i=({title:i})=>o(["todos",o=>[{title:i,id:t.counter,completed:!1},...o]],["counter",t=>t+1]),s=t=>o("todos",o=>o.filter(o=>o.id!==t)),n=i=>o("todos",t.todos.findIndex(t=>t.id===i.id),i),l=()=>o("todos",t=>t.filter(t=>!t.completed)),f=t=>o("todos",o=>o.completed!==t,{completed:t}),c=t=>o("edittingTodoId",t),e=()=>o("showMode",location.hash.slice(2)||"all");return q(()=>{const i=t.todos.filter(t=>t.completed).length;o({completedCount:i,remainingCount:t.todos.length-i})}),window.addEventListener("hashchange",e),U(()=>window.removeEventListener("hashchange",e)),function(){const o=wt.content.firstChild.cloneNode(!0),e=o.insertBefore(document.createTextNode(""),o.firstChild),d=o.insertBefore(document.createTextNode(""),e.nextSibling);return et.insert(o,St({addTodo:i}),null,e),et.flow(o,"when",()=>t.todos.length>0,()=>(function(){const o=bt.content.cloneNode(!0),i=o.insertBefore(document.createTextNode(""),o.firstChild),e=o.insertBefore(document.createTextNode(""),i.nextSibling);return et.insert(o,Tt({state:t,toggleAll:f,editTodo:n,removeTodo:s,setCurrent:c}),null,i),et.insert(o,_t({state:t,clearCompleted:l}),null,e),o})(),null,d),o}()})())),et.delegateEvents(["change","dblclick","click","focusout","keyup"])}]);